<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Register Form in HTML and CSS | Condehal</title>
    <link rel="stylesheet" href="styleregister.css" />
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="wrapper">
      <form id="registerForm" action="">
        <h1>Register</h1>
        <div class="input-box">
          <input
            type="text"
            id="signupName"
            placeholder="Name"
            required="true"
          />
          <i class="bx bxs-user"></i>
        </div>
        <div class="input-box">
          <input
            type="email"
            id="signupEmail"
            placeholder="Email"
            required="true"
          />
          <i class="bx bxs-envelope"></i>
        </div>
        <div class="input-box">
          <input
            type="password"
            id="signupPassword"
            placeholder="Password"
            required="true"
          />
          <i class="bx bxs-lock-alt"></i>
        </div>
        <button type="submit" class="btn" id="signupButton">Start</button>
        <div class="login-link">
          <p>Already have an account? <a href="demo2.html">Login</a></p>
        </div>
      </form>
      <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-analytics.js";

        const firebaseConfig = {
          apiKey: "AIzaSyDsY5JhCbU8M4n0fEgW9XP6XgtdNNgWRXU",
          authDomain: "easy-login-1bae4.firebaseapp.com",
          projectId: "easy-login-1bae4",
          storageBucket: "easy-login-1bae4.appspot.com",
          messagingSenderId: "81972332279",
          appId: "1:81972332279:web:7245142fbe7039fd1ab5f2",
          measurementId: "G-L2KSZ32ZGN",
        };

        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);

        import {
          getAuth,
          createUserWithEmailAndPassword,
        } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";

        document
          .getElementById("signupButton")
          .addEventListener("click", (event) => {
            event.preventDefault();
            const signupName = document.getElementById("signupName").value;
            const signupEmail = document.getElementById("signupEmail").value;
            const signupPassword =
              document.getElementById("signupPassword").value;

            const auth = getAuth();
            createUserWithEmailAndPassword(auth, signupEmail, signupPassword)
              .then((userCredential) => {
                console.log(userCredential);
                const user = userCredential.user;
                window.location.href = "demo2.html";
              })
              .catch((error) => {
                console.log("error");
                const errorCode = error.code;
                const errorMessage = error.message;
              });
          });
      </script>
    </div>
  </body>
</html>
